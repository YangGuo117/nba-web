{"ast":null,"code":"import _classCallCheck from\"/Users/guoyang/Desktop/2019-Fall/nba-web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/guoyang/Desktop/2019-Fall/nba-web/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/guoyang/Desktop/2019-Fall/nba-web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/guoyang/Desktop/2019-Fall/nba-web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/guoyang/Desktop/2019-Fall/nba-web/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import nba from'nba';import*as d3 from'd3';import{hexbin}from'd3-hexbin';import{court,shots}from'd3-shotchart';window.d3_hexbin={hexbin:hexbin};// workaround library problem\nexport var ShotChart=/*#__PURE__*/function(_React$Component){_inherits(ShotChart,_React$Component);function ShotChart(){_classCallCheck(this,ShotChart);return _possibleConstructorReturn(this,_getPrototypeOf(ShotChart).apply(this,arguments));}_createClass(ShotChart,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){var _this=this;console.log(this.props.minCount);nba.stats.shots({PlayerID:this.props.playerId}).then(function(response){var final_shots=response.shot_Chart_Detail.map(function(shot){return{x:(shot.locX+250)/10,y:(shot.locY+50)/10,action_type:shot.actionType,shot_distance:shot.shotDistance,shot_made_flag:shot.shotMadeFlag};});var courtSelection=d3.select(\"#shot-chart\");courtSelection.html('');var chart_court=court().width(500);var chart_shots=shots().shotRenderThreshold(_this.props.minCount).displayToolTips(_this.props.displayTooltip).displayType(_this.props.chartType);courtSelection.call(chart_court);courtSelection.datum(final_shots).call(chart_shots);});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{id:\"shot-chart\"});}}]);return ShotChart;}(React.Component);","map":{"version":3,"sources":["/Users/guoyang/Desktop/2019-Fall/nba-web/src/components/ShotChart.js"],"names":["React","nba","d3","hexbin","court","shots","window","d3_hexbin","ShotChart","console","log","props","minCount","stats","PlayerID","playerId","then","response","final_shots","shot_Chart_Detail","map","shot","x","locX","y","locY","action_type","actionType","shot_distance","shotDistance","shot_made_flag","shotMadeFlag","courtSelection","select","html","chart_court","width","chart_shots","shotRenderThreshold","displayToolTips","displayTooltip","displayType","chartType","call","datum","Component"],"mappings":"qnBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,KAAhB,CACA,MAAO,GAAKC,CAAAA,EAAZ,KAAoB,IAApB,CACA,OAASC,MAAT,KAAuB,WAAvB,CACA,OAASC,KAAT,CAAgBC,KAAhB,KAA6B,cAA7B,CAGAC,MAAM,CAACC,SAAP,CAAmB,CAACJ,MAAM,CAAGA,MAAV,CAAnB,CAAsC;AAEtC,UAAaK,CAAAA,SAAb,mTAQyB,gBACjBC,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,QAAvB,EACAX,GAAG,CAACY,KAAJ,CAAUR,KAAV,CAAgB,CACZS,QAAQ,CAAE,KAAKH,KAAL,CAAWI,QADT,CAAhB,EAEGC,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,GAAMC,CAAAA,WAAW,CAAGD,QAAQ,CAACE,iBAAT,CAA2BC,GAA3B,CAA+B,SAAAC,IAAI,QAAK,CACxDC,CAAC,CAAE,CAACD,IAAI,CAACE,IAAL,CAAY,GAAb,EAAoB,EADiC,CAExDC,CAAC,CAAE,CAACH,IAAI,CAACI,IAAL,CAAY,EAAb,EAAmB,EAFkC,CAGxDC,WAAW,CAAEL,IAAI,CAACM,UAHsC,CAIxDC,aAAa,CAAEP,IAAI,CAACQ,YAJoC,CAKxDC,cAAc,CAAET,IAAI,CAACU,YALmC,CAAL,EAAnC,CAApB,CAQA,GAAMC,CAAAA,cAAc,CAAG9B,EAAE,CAAC+B,MAAH,CAAU,aAAV,CAAvB,CACAD,cAAc,CAACE,IAAf,CAAoB,EAApB,EACA,GAAMC,CAAAA,WAAW,CAAG/B,KAAK,GAAGgC,KAAR,CAAc,GAAd,CAApB,CACA,GAAMC,CAAAA,WAAW,CAAGhC,KAAK,GACpBiC,mBADe,CACK,KAAI,CAAC3B,KAAL,CAAWC,QADhB,EAEf2B,eAFe,CAEC,KAAI,CAAC5B,KAAL,CAAW6B,cAFZ,EAGfC,WAHe,CAGH,KAAI,CAAC9B,KAAL,CAAW+B,SAHR,CAApB,CAIAV,cAAc,CAACW,IAAf,CAAoBR,WAApB,EACAH,cAAc,CAACY,KAAf,CAAqB1B,WAArB,EAAkCyB,IAAlC,CAAuCN,WAAvC,EACH,CApBD,EAqBH,CA/BL,uCAgCa,CACL,MACI,4BAAK,EAAE,CAAC,YAAR,EADJ,CAGH,CApCL,uBAA+BrC,KAAK,CAAC6C,SAArC","sourcesContent":["import React from 'react';\nimport nba from 'nba';\nimport * as d3 from 'd3';\nimport { hexbin } from 'd3-hexbin';\nimport { court, shots } from 'd3-shotchart';\nimport PropTypes from 'prop-types';\n\nwindow.d3_hexbin = {hexbin : hexbin}; // workaround library problem\n\nexport class ShotChart extends React.Component {\n    static propTypes = {\n        playerId: PropTypes.number.isRequired,\n        minCount: PropTypes.number,\n        chartType: PropTypes.string,\n        displayTooltip: PropTypes.bool,\n    }\n\n    componentDidUpdate() {\n        console.log(this.props.minCount);\n        nba.stats.shots({\n            PlayerID: this.props.playerId\n        }).then((response) => {\n            const final_shots = response.shot_Chart_Detail.map(shot => ({\n                x: (shot.locX + 250) / 10,\n                y: (shot.locY + 50) / 10,\n                action_type: shot.actionType,\n                shot_distance: shot.shotDistance,\n                shot_made_flag: shot.shotMadeFlag,\n            }));\n\n            const courtSelection = d3.select(\"#shot-chart\");\n            courtSelection.html('');\n            const chart_court = court().width(500);\n            const chart_shots = shots()\n                .shotRenderThreshold(this.props.minCount)\n                .displayToolTips(this.props.displayTooltip)\n                .displayType(this.props.chartType);\n            courtSelection.call(chart_court);\n            courtSelection.datum(final_shots).call(chart_shots);\n        });\n    }\n    render() {\n        return (\n            <div id=\"shot-chart\"></div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}